set( LIB_NAME tablespace )

add_library( ${LIB_NAME} STATIC
    AIO_mode.cpp
    Char_Ptr_Compare.cpp
    Char_Ptr_Hash.cpp
    Datafile.cpp
    Dirs.cpp
    FLST_LEN.cpp
    Fil_iterator.cpp
    Fil_shard.cpp
    Fil_state.cpp
    Fil_system.cpp
    Filenames.cpp
    PageCallback.cpp
    Scanned_files.cpp
    Space_Ids.cpp
    Space_id_set.cpp
    Space_ids.cpp
    SysTablespace.cpp
    Tablespace.cpp
    Tablespace_dirs.cpp
    Tablespace_files.cpp
    Tablespaces.cpp
    buf_remove_t.cpp
    consts.cpp
    device_t.cpp
    dict_sys_t_is_reserved.cpp
    encryption_op_type.cpp
    fil_addr_is_null.cpp
    fil_addr_null.cpp
    fil_addr_t.cpp
    fil_assign_new_space_id.cpp
    fil_buffering_disabled.cpp
    fil_check_missing_tablespaces.cpp
    fil_check_path.cpp
    fil_close.cpp
    fil_close_all_files.cpp
    fil_close_log_files.cpp
    fil_delete_file.cpp
    fil_delete_tablespace.cpp
    fil_encryption_rotate.cpp
    fil_faddr_t.cpp
    fil_flush.cpp
    fil_flush_file_redo.cpp
    fil_flush_file_spaces.cpp
    fil_free_scanned_files.cpp
    fil_fusionio_enable_atomic_write.cpp
    fil_get_dirs.cpp
    fil_init.cpp
    fil_io.cpp
    fil_load_status.cpp
    fil_n_file_opened.cpp
    fil_n_log_flushes.cpp
    fil_n_pending_log_flushes.cpp
    fil_n_pending_tablespace_flushes.cpp
    fil_no_punch_hole.cpp
    fil_node_create.cpp
    fil_node_t.cpp
    fil_open_for_business.cpp
    fil_open_log_and_system_tablespace_files.cpp
    fil_operation_t.cpp
    fil_path_to_space_name.cpp
    fil_read.cpp
    fil_redo_io.cpp
    fil_rename_tablespace.cpp
    fil_rename_tablespace_by_id.cpp
    fil_rename_tablespace_check.cpp
    fil_replace_tablespace.cpp
    fil_scan_for_tablespaces.cpp
    fil_set_max_space_id_if_bigger.cpp
    fil_space_acquire.cpp
    fil_space_acquire_low.cpp
    fil_space_acquire_silent.cpp
    fil_space_close.cpp
    fil_space_create.cpp
    fil_space_exists_in_mem.cpp
    fil_space_extend.cpp
    fil_space_free.cpp
    fil_space_get.cpp
    fil_space_get_first_path.cpp
    fil_space_get_flags.cpp
    fil_space_get_id_by_name.cpp
    fil_space_get_latch.cpp
    fil_space_get_n_reserved_extents.cpp
    fil_space_get_page_size.cpp
    fil_space_get_size.cpp
    fil_space_get_sys_space.cpp
    fil_space_get_type.cpp
    fil_space_open.cpp
    fil_space_open_if_needed.cpp
    fil_space_read_name_and_filepath.cpp
    fil_space_release.cpp
    fil_space_release_free_extents.cpp
    fil_space_reserve_free_extents.cpp
    fil_space_set_flags.cpp
    fil_space_set_imported.cpp
    fil_space_t.cpp
    fil_space_update_name.cpp
    fil_system.cpp
    fil_system_open_fetch.cpp
    fil_tablespace_lookup_for_recovery.cpp
    fil_tablespace_open_for_recovery.cpp
    fil_truncate_tablespace.cpp
    fil_type_t.cpp
    fil_validate.cpp
    fil_write.cpp
    fil_write_flushed_lsn.cpp
    fil_write_zeros.cpp
    flst_get_len.cpp
    fseg_header.cpp
    fseg_header_t.cpp
    fseg_inode_t.cpp
    fsp_descr_page.cpp
    fsp_flags_are_equal.cpp
    fsp_flags_init.cpp
    fsp_flags_is_compressed.cpp
    fsp_flags_is_valid.cpp
    fsp_flags_set_page_size.cpp
    fsp_flags_set_zip_size.cpp
    fsp_get_extent_size_in_pages.cpp
    fsp_get_pages_to_extend_ibd.cpp
    fsp_header_get_encryption_progress_offset.cpp
    fsp_header_get_field.cpp
    fsp_header_get_flags.cpp
    fsp_header_get_page_size.cpp
    fsp_header_get_sdi_offset.cpp
    fsp_header_get_server_version.cpp
    fsp_header_get_space_id.cpp
    fsp_header_get_space_version.cpp
    fsp_header_t.cpp
    fsp_init.cpp
    fsp_is_checksum_disabled.cpp
    fsp_is_dd_tablespace.cpp
    fsp_is_file_per_table.cpp
    fsp_is_global_temporary.cpp
    fsp_is_global_temporary.cpp
    fsp_is_ibd_tablespace.cpp
    fsp_is_inode_page.cpp
    fsp_is_session_temporary.cpp
    fsp_is_shared_tablespace.cpp
    fsp_is_system_or_temp_tablespace.cpp
    fsp_is_system_tablespace.cpp
    fsp_is_system_temporary.cpp
    fsp_is_undo_tablespace.cpp
    fsp_reserve_t.cpp
    fsp_skip_sanity_check.cpp
    lsn_t.cpp
    mach_read_ulint.cpp
    mlog_id_t.cpp
    os_file_read_first_page.cpp
    os_file_read_first_page_func.cpp
    os_file_read_first_page_pfs.cpp
    page_id_t.cpp
    page_size_to_ssize.cpp
    pfs_os_file_read_first_page_func.cpp
    recv_recovery_on.cpp
    space_id_t.cpp
    srv_start_raw_disk_in_use.cpp
    srv_sys_space.cpp
    srv_tmp_space.cpp
    sys_tablespace_auto_extend_increment.cpp
    trx_sys_undo_spaces.cpp
    xdes_arr_size.cpp
    xdes_calc_descriptor_index.cpp
    xdes_calc_descriptor_page.cpp
    xdes_get_bit.cpp
    xdes_state_t.cpp
    xdes_t.cpp
    fil_validate_skip.cpp
    fil_set_encryption.cpp
    fil_get_compression.cpp
    fil_reset_encryption.cpp
)

target_compile_options( ${LIB_NAME} PRIVATE  )

target_include_directories(
    ${LIB_NAME}
    PUBLIC
    ${CMAKE_CURRENT_SOURCE_DIR}/../include
)

target_link_libraries(
    ${LIB_NAME}
    PUBLIC
    bit
    enum
    io
    ioasync
    memory
    string
    sync_rw
    PRIVATE
)

